EntityBlueprint
{
	name	"units/drones/tower_mines_drones/drone_mine_root_gas"
	
	base_blueprint	"units/drones/tower_mines_drones/drone_mine_root_base"

	LuaDesc
	{
		script	"lua/items/consumables/proximity_mine.lua"
	
		database
		{
			bp					string:"units/drones/drone_mine_root_gas_explosion"
			delay				float:"1.0"
			delay_before_armed	float:"1.0"
		}
	}

	SkeletonDesc
	{
		name	"meshes/units/drones/tower_mines_drones/drone_mine_root_gas"
	}
	
	TriggerDesc
	{
		owner		"self"
		collision	"ground_unit"

		Filters
		{
			TeamRelationTriggerFilter
			{
				team			"hostility"
				check_parent	"0"
			}
		}

		Shapes
		{
			PhysicsSphereShape
			{
				r	"5"
			}
		}
	}

	children
	{
		EntityBlueprint
		{
			MeshDesc
			{
				mesh		"meshes/items/consumables/grenade_gas.mesh"
				material	"items/consumables/grenade_gas"
			}

			TransformDesc
			{
				position
				{
					y	"0.5"
					x	"0"
					z	"0"
				}
			}
		}
	}
	
	EffectDesc
	{
		EffectGroup
		{
			enabled	"1"
			group	"mine_unarmed"

			Effects
			{
				Effect
				{
					blueprint	"effects/items/mech_mine_placed"
					bone		"att_light"
				}

				Effect
				{
					blueprint	"effects/tower_mines_drones/mine_acid_beacon_armed"
					bone		"att_light"
					delay		"2"
				}
			}
		}
		EffectGroup
		{
			enabled	"0"
			group	"mine_armed"

			Effects
			{
				Effect
				{
					blueprint	"effects/items/mech_mine_beacon_activated"
					bone		"att_light"
				}
			}
		}
	}
}

EntityBlueprint
{
	name	"units/drones/drone_mine_root_gas_explosion"
	
	LifeTimeDesc
	{
		time	6
	}

	BombAmmoComponent
	{
		explosion_effect			"effects/items/gas_grenade_smoke"

		DamagePattern
		{
			area_damage_type		"timed"
			area_damage_duration	"6"
			time_damage_interval	"0.25"			
			area_damage_radius		"8"
			
			TimeDamages
			{
				TimeDamage
				{
					value			"20"
					duration		"1"
					type			"acid"
				}
			}			
		}
	}
}
