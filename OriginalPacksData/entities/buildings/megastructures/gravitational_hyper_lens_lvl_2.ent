EntityBlueprint
{
	name "buildings/megastructures/gravitational_hyper_lens_lvl_2"
	base_blueprint "buildings/megastructures/gravitational_hyper_lens"
	
	
	BuildingDesc
	{
		buildable 			"0"		
		name 				"gravitational_hyper_lens_lvl_2"
		bp   				"buildings/megastructures/gravitational_hyper_lens_lvl_2"
		//ghost_bp 			"buildings/megastructures/gravitational_hyper_lens_ghost"
		category 			"megastructures"
		localization_id		"gui/hud/building_name/gravitational_hyper_lens"
		description			"gui/hud/building_description/gravitational_hyper_lens"
		menu_icon			"gui/hud/building_icons/gravitational_hyper_lens"
		limit			    "1"
		limit_name			"gravitational_hyper_lens"
		order				"2"
		require 			"gravitational_hyper_lens"
		exclude_terrain_types "magma_hot_ground,magma_very_hot_ground"
		upgrade 			"buildings/megastructures/gravitational_hyper_lens_lvl_3"	
		//sellable			"0"
		is_shortcut_bindable	"0"
		hide_treasures 		"1"
		//disableable 		"0"
		
		costs
		{
			BuildingCostInfo
			{
				name "default"
				building_time 180
				building_cost
				{
					carbonium 	"15000"
					steel 		"35000"
					uranium 	"4000"
				}
			}		
		}
	}

	LuaDesc
	{
		script "lua/buildings/megastructures/gravitational_hyper_lens.lua"

		database
		{
			cone_effect			string:"build_cone_5x5"
			cone_effect_sell	string:"sell_big"
			minimap_reveal_mask string:"SOLID_RESOURCE|VENT_RESOURCE"
		}
	}

	ResourceConverterDesc
	{
		in
		{
			GameplayResource
			{
				resource 			"energy"
				value			 	"7500"
			}
			
			GameplayResource
			{
				resource 			"supercoolant"
				value			 	"500"
				attachment			"att_in_1|att_in_2|att_in_3|att_in_4"
			}			
		}

		priority 2
	}
	
	children
	{
		EntityBlueprint
		{		
			base_blueprint "buildings/megastructures/building_base"	
				MeshDesc
			{
				mesh "meshes/buildings/megastructures/gravitational_hyper_lens_3.mesh"
				SubMeshes
				{
					
					SubMesh
					{
						id "0"
						material "buildings/megastructures/trimsheet_02_grey"
					}

					SubMesh
					{
						id "1"
						material "buildings/megastructures/trimsheet_01_yellow"
					}
		
					SubMesh
					{
						id "2"
						material "buildings/megastructures/trimsheet_01_grey"
					}
		
					SubMesh
					{
						id "3"
						material "buildings/megastructures/trimsheet_01_black"
					}		
					
					SubMesh
					{
						id "4"
						material "buildings/megastructures/trimsheet_02_black"
					}

					SubMesh
					{
						id "5"
						material "buildings/megastructures/metal_yellow"
					}		

					SubMesh
					{
						id "6"
						material "buildings/megastructures/metal_grey"
					}								
				}
			}
			
			SkeletonDesc
			{
				name "meshes/buildings/megastructures/gravitational_hyper_lens_3"
			}			
		
			PhysicsDesc
			{
				objects
				{
					PhysicsObjectDesc
					{
						type 				"static"
						group_id 			"building"
						physics_material 	"default"
						Shapes
						{
							PhysicsMeshShape
							{
								mesh "meshes/buildings/megastructures/gravitational_hyper_lens_3_c1.nxs"
							}		
						}
					}
				}
			}		
			
			AttachmentDesc
			{
				attachment "att_extension_t1"
			}
			EffectDesc
			{		
				EffectBaseBlueprints
				{
					"buildings/effects_big_base"
				}
				////////////////////////Destruction level 0 transition effects/////////////////////////
				EffectGroup
				{
					group "working"
					enabled "0"
					delay "1"
		
					Effects
					{
						Effect
						{
							blueprint "effects/buildings_megastructures/gravitational_lens_beam"
							bone "att_beam"
						}									
					}
				}
				EffectGroup
				{
					group "0_transition"
					enabled "0"
		
					Effects
					{
						Effect
						{
							blueprint "effects/buildings_generic/explosion_medium_random"
							bone "att_smoke_1"
							delay "0"
						}
						Effect
						{
							blueprint "effects/buildings_generic/explosion_medium_random"
							bone "att_smoke_2"
							delay "0.15"
						}
						Effect
						{
							blueprint "effects/buildings_generic/explosion_medium_random"
							bone "att_smoke_3"
							delay "0.25"
						}
						Effect
						{
							blueprint "effects/buildings_generic/explosion_medium_random"
							bone "att_smoke_4"
							delay "0.3"
						}
						Effect
						{
							blueprint "effects/buildings_generic/explosion_big_random"
							bone "att_smoke_5"
							delay "0.4"
						}
						Effect
						{
							blueprint "effects/buildings_generic/explosion_big_random"
							bone "att_smoke_6"
							delay "0.45"
						}
						Effect
						{
							blueprint "effects/buildings_generic/explosion_big_random"
							bone "att_smoke_7"
							delay "0.5"
						}
						Effect
						{
							blueprint "effects/buildings_main/explosion_building_hq"
							delay "0.6"
						}
					}
				}				
			}			
		}		
	}	
}

EntityBlueprint
{
	name  "buildings/megastructures/gravitational_hyper_lens_lvl_2_ruins"

	MeshDesc
	{
		mesh "meshes/buildings/megastructures/gravitational_hyper_lens_ruins.mesh"

		SubMeshes
		{
			
			SubMesh
			{
				id "0"
				material "buildings/megastructures/trimsheet_02_grey"
			}

			SubMesh
			{
				id "1"
				material "buildings/megastructures/trimsheet_01_grey"
			}
			
			SubMesh
			{
				id "2"
				material "buildings/megastructures/trimsheet_01_black"
			}
			
			SubMesh
			{
				id "3"
				material "buildings/megastructures/trimsheet_01_yellow"
			}		
			
			SubMesh
			{
				id "4"
				material "buildings/megastructures/trimsheet_02_black"
			}

			SubMesh
			{
				id "5"
				material "buildings/megastructures/metal_yellow"
			}		

			SubMesh
			{
				id "6"
				material "buildings/defense/ai_hub_lvl_3_screen"
			}	

			SubMesh
			{
				id "7"
				material "buildings/megastructures/metal_grey"
			}		

			SubMesh
			{
				id "8"
				material "buildings/megastructures/metal_black"
			}	

			SubMesh
			{
				id "9"
				material "buildings/megastructures/glass"
			}			

			SubMesh
			{
				id "10"
				material "buildings/main/buildings_ruins"
			}	
		}	
	}
}